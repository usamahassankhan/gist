{"ast":null,"code":"// pkg/dist-src/auth.js\nvar REGEX_IS_INSTALLATION_LEGACY = /^v1\\./;\nvar REGEX_IS_INSTALLATION = /^ghs_/;\nvar REGEX_IS_USER_TO_SERVER = /^ghu_/;\nasync function auth(token) {\n  const isApp = token.split(/\\./).length === 3;\n  const isInstallation = REGEX_IS_INSTALLATION_LEGACY.test(token) || REGEX_IS_INSTALLATION.test(token);\n  const isUserToServer = REGEX_IS_USER_TO_SERVER.test(token);\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(route, parameters);\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\"[@octokit/auth-token] Token passed to createTokenAuth is not a string\");\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport { createTokenAuth };","map":{"version":3,"names":["REGEX_IS_INSTALLATION_LEGACY","REGEX_IS_INSTALLATION","REGEX_IS_USER_TO_SERVER","auth","token","isApp","split","length","isInstallation","test","isUserToServer","tokenType","type","withAuthorizationPrefix","hook","request","route","parameters","endpoint","merge","headers","authorization","createTokenAuth","createTokenAuth2","Error","replace","Object","assign","bind"],"sources":["/home/usamahassankhan/test/gistapi/node_modules/@octokit/auth-token/dist-web/index.js"],"sourcesContent":["// pkg/dist-src/auth.js\nvar REGEX_IS_INSTALLATION_LEGACY = /^v1\\./;\nvar REGEX_IS_INSTALLATION = /^ghs_/;\nvar REGEX_IS_USER_TO_SERVER = /^ghu_/;\nasync function auth(token) {\n  const isApp = token.split(/\\./).length === 3;\n  const isInstallation = REGEX_IS_INSTALLATION_LEGACY.test(token) || REGEX_IS_INSTALLATION.test(token);\n  const isUserToServer = REGEX_IS_USER_TO_SERVER.test(token);\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\n      \"[@octokit/auth-token] Token passed to createTokenAuth is not a string\"\n    );\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport {\n  createTokenAuth\n};\n"],"mappings":"AAAA;AACA,IAAIA,4BAA4B,GAAG,OAAO;AAC1C,IAAIC,qBAAqB,GAAG,OAAO;AACnC,IAAIC,uBAAuB,GAAG,OAAO;AACrC,eAAeC,IAAIA,CAACC,KAAK,EAAE;EACzB,MAAMC,KAAK,GAAGD,KAAK,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,KAAK,CAAC;EAC5C,MAAMC,cAAc,GAAGR,4BAA4B,CAACS,IAAI,CAACL,KAAK,CAAC,IAAIH,qBAAqB,CAACQ,IAAI,CAACL,KAAK,CAAC;EACpG,MAAMM,cAAc,GAAGR,uBAAuB,CAACO,IAAI,CAACL,KAAK,CAAC;EAC1D,MAAMO,SAAS,GAAGN,KAAK,GAAG,KAAK,GAAGG,cAAc,GAAG,cAAc,GAAGE,cAAc,GAAG,gBAAgB,GAAG,OAAO;EAC/G,OAAO;IACLE,IAAI,EAAE,OAAO;IACbR,KAAK;IACLO;EACF,CAAC;AACH;;AAEA;AACA,SAASE,uBAAuBA,CAACT,KAAK,EAAE;EACtC,IAAIA,KAAK,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,MAAM,KAAK,CAAC,EAAE;IAClC,OAAQ,UAASH,KAAM,EAAC;EAC1B;EACA,OAAQ,SAAQA,KAAM,EAAC;AACzB;;AAEA;AACA,eAAeU,IAAIA,CAACV,KAAK,EAAEW,OAAO,EAAEC,KAAK,EAAEC,UAAU,EAAE;EACrD,MAAMC,QAAQ,GAAGH,OAAO,CAACG,QAAQ,CAACC,KAAK,CACrCH,KAAK,EACLC,UACF,CAAC;EACDC,QAAQ,CAACE,OAAO,CAACC,aAAa,GAAGR,uBAAuB,CAACT,KAAK,CAAC;EAC/D,OAAOW,OAAO,CAACG,QAAQ,CAAC;AAC1B;;AAEA;AACA,IAAII,eAAe,GAAG,SAASC,gBAAgBA,CAACnB,KAAK,EAAE;EACrD,IAAI,CAACA,KAAK,EAAE;IACV,MAAM,IAAIoB,KAAK,CAAC,0DAA0D,CAAC;EAC7E;EACA,IAAI,OAAOpB,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIoB,KAAK,CACb,uEACF,CAAC;EACH;EACApB,KAAK,GAAGA,KAAK,CAACqB,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC;EAC/C,OAAOC,MAAM,CAACC,MAAM,CAACxB,IAAI,CAACyB,IAAI,CAAC,IAAI,EAAExB,KAAK,CAAC,EAAE;IAC3CU,IAAI,EAAEA,IAAI,CAACc,IAAI,CAAC,IAAI,EAAExB,KAAK;EAC7B,CAAC,CAAC;AACJ,CAAC;AACD,SACEkB,eAAe"},"metadata":{},"sourceType":"module"}